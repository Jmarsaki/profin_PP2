# -*- coding: utf-8 -*-
"""test_evaluation.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1qy9IgXVkLFaUT1UY95tp2ydaAHLBXSzk
"""

import joblib

def compare_floats(a, b, tolerance=1e-6):
    return abs(a - b) < tolerance

def test_evaluation():
    incremento_anual_model = open('/content/modelo_entrenado.pkl', 'rb')
    arbol_regresor = joblib.load(incremento_anual_model)
    sample = 0  # Aquí se debe proporcionar el valor real correspondiente al incremento de producción en 2022
    expected_prediction = 743182.1666666666  # Aquí se debe proporcionar el valor real esperado de la predicción
    prediction = arbol_regresor.predict([[sample]])  # El valor de sample debe estar dentro de una lista
    assert compare_floats(prediction[0], expected_prediction), f"Error: Expected {expected_prediction}, but got {prediction[0]}"
    print("listo")

test_evaluation()