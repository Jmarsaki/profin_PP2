# -*- coding: utf-8 -*-
"""Test_eval.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/13H-BMqDHfNFY27Af-tUgwXN00DBFxYs9

##test de evaluación
"""

import unittest
import pandas as pd
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error

class TestLinearRegressionEvaluation(unittest.TestCase):

    def setUp(self):
        # Crear un DataFrame de ejemplo para la prueba
        data = {'X': [2022,2023, 2024],
                'y': [2403161.9540813, 2483925.24059489, 2564688.52710849]}
        self.df = pd.DataFrame(data)

        # Dividir los datos en variables predictoras (X) y variable objetivo (y)
        self.X_train = self.df[['X']]
        self.y_train = self.df['y']

        # Crear y entrenar el modelo de regresión lineal
        self.model = LinearRegression()
        self.model.fit(self.X_train, self.y_train)

    def test_mean_squared_error(self):
        # Realizar una predicción con los datos de entrenamiento
        y_pred = self.model.predict(self.X_train)

        # Calcular el error cuadrático medio
        mse = mean_squared_error(self.y_train, y_pred)

        # Verificar que el error cuadrático medio sea correcto
        self.assertAlmostEqual(mse, 0)

if __name__ == '__main__':
    unittest.main()